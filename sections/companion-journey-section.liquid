{{ 'section-companion-journey.css' | asset_url | stylesheet_tag }}

<div class="companion-journey-section">
  <div class="page-width">
    <div class="companion-content">
      
      {%- if section.settings.heading != blank -%}
        <h2 class="companion-heading">
          {{ section.settings.heading }}
        </h2>
      {%- endif -%}

      <div class="companion-grid">
        
        {%- if section.settings.description != blank -%}
          <div class="companion-description">
            <p>{{ section.settings.description }}</p>
            
            {%- if section.settings.sub_description != blank -%}
              <p class="sub-description">{{ section.settings.sub_description }}</p>
            {%- endif -%}
          </div>
        {%- endif -%}

        <div class="companion-images">
          
          {%- if section.settings.image_1 != blank -%}
            <div class="image-item image-large">
              <img
                srcset="
                  {%- if section.settings.image_1.width >= 375 -%}{{ section.settings.image_1 | image_url: width: 375 }} 375w,{%- endif -%}
                  {%- if section.settings.image_1.width >= 550 -%}{{ section.settings.image_1 | image_url: width: 550 }} 550w,{%- endif -%}
                  {%- if section.settings.image_1.width >= 750 -%}{{ section.settings.image_1 | image_url: width: 750 }} 750w,{%- endif -%}
                  {{ section.settings.image_1 | image_url }} {{ section.settings.image_1.width }}w
                "
                src="{{ section.settings.image_1 | image_url: width: 550 }}"
                loading="lazy"
                alt="{{ section.settings.image_1.alt | escape }}"
                width="{{ section.settings.image_1.width }}"
                height="{{ section.settings.image_1.height }}"
              >
            </div>
          {%- endif -%}

          <div class="image-column">
            {%- if section.settings.image_2 != blank -%}
              <div class="image-item image-tall">
                <img
                  srcset="
                    {%- if section.settings.image_2.width >= 375 -%}{{ section.settings.image_2 | image_url: width: 375 }} 375w,{%- endif -%}
                    {%- if section.settings.image_2.width >= 550 -%}{{ section.settings.image_2 | image_url: width: 550 }} 550w,{%- endif -%}
                    {{ section.settings.image_2 | image_url }} {{ section.settings.image_2.width }}w
                  "
                  src="{{ section.settings.image_2 | image_url: width: 375 }}"
                  loading="lazy"
                  alt="{{ section.settings.image_2.alt | escape }}"
                  width="{{ section.settings.image_2.width }}"
                  height="{{ section.settings.image_2.height }}"
                >
              </div>
            {%- endif -%}

            {%- if section.settings.image_3 != blank -%}
              <div class="image-item image-tall">
                <img
                  srcset="
                    {%- if section.settings.image_3.width >= 375 -%}{{ section.settings.image_3 | image_url: width: 375 }} 375w,{%- endif -%}
                    {%- if section.settings.image_3.width >= 550 -%}{{ section.settings.image_3 | image_url: width: 550 }} 550w,{%- endif -%}
                    {{ section.settings.image_3 | image_url }} {{ section.settings.image_3.width }}w
                  "
                  src="{{ section.settings.image_3 | image_url: width: 375 }}"
                  loading="lazy"
                  alt="{{ section.settings.image_3.alt | escape }}"
                  width="{{ section.settings.image_3.width }}"
                  height="{{ section.settings.image_3.height }}"
                >
              </div>
            {%- endif -%}
          </div>

        </div>
      </div>

    </div>
  </div>
</div>

{% schema %}
{
  "name": "Companion Journey",
  "tag": "section",
  "class": "section",
  "settings": [
    {
      "type": "text",
      "id": "heading",
      "label": "Heading",
      "default": "Dành tặng người đồng hành cùng bạn"
    },
    {
      "type": "textarea",
      "id": "description",
      "label": "Description",
      "default": "Cuối năm là lúc nhìn lại hành trình đã đi cùng nhau."
    },
    {
      "type": "textarea",
      "id": "sub_description",
      "label": "Sub Description",
      "default": "Một chế tác từ HELIOS có thể là cách bạn gửi gắm sự tin tưởng, nhắc người bạn yêu thương rằng: hành trình phía trước vẫn có bạn ở đó."
    },
    {
      "type": "image_picker",
      "id": "image_1",
      "label": "Image 1 (Large square)"
    },
    {
      "type": "image_picker",
      "id": "image_2",
      "label": "Image 2 (Top right)"
    },
    {
      "type": "image_picker",
      "id": "image_3",
      "label": "Image 3 (Bottom right)"
    },
    {
      "type": "range",
      "id": "padding_top",
      "min": 0,
      "max": 100,
      "step": 4,
      "unit": "px",
      "label": "Padding top",
      "default": 80
    },
    {
      "type": "range",
      "id": "padding_bottom",
      "min": 0,
      "max": 100,
      "step": 4,
      "unit": "px",
      "label": "Padding bottom",
      "default": 80
    }
  ],
  "presets": [
    {
      "name": "Companion Journey"
    }
  ]
}
{% endschema %}

<style>
.companion-journey-section {
  background-color: #000;
  color: #fff;
  padding: {{ section.settings.padding_top }}px 0 {{ section.settings.padding_bottom }}px;
}

.companion-heading {
  font-size: clamp(28px, 4vw, 48px);
  font-weight: 300;
  margin: 0 0 60px;
  line-height: 1.3;
  letter-spacing: 0.02em;
}

.companion-grid {
  display: grid;
  grid-template-columns: 1fr 2fr;
  gap: 60px;
  align-items: start;
}

.companion-description p {
  font-size: 16px;
  line-height: 1.8;
  margin: 0 0 24px;
  font-weight: 300;
  letter-spacing: 0.01em;
}

.companion-description .sub-description {
  font-size: 15px;
  line-height: 1.9;
  opacity: 0.9;
}

.companion-images {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 20px;
  align-items: start;
}

.image-large {
  aspect-ratio: 1;
}

.image-column {
  display: flex;
  flex-direction: column;
  gap: 20px;
}

.image-tall {
  aspect-ratio: 3/4;
}

.image-item {
  overflow: hidden;
  background: #1a1a1a;
}

.image-item img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  display: block;
  filter: grayscale(100%);
  transition: transform 0.6s ease, filter 0.4s ease;
}

.image-item:hover img {
  transform: scale(1.05);
  filter: grayscale(80%);
}

/* Responsive */
@media screen and (max-width: 989px) {
  .companion-grid {
    grid-template-columns: 1fr;
    gap: 40px;
  }
  
  .companion-heading {
    font-size: clamp(24px, 5vw, 36px);
    margin-bottom: 40px;
  }
}

@media screen and (max-width: 749px) {
  .companion-journey-section {
    padding: 60px 0;
  }
  
  .companion-images {
    grid-template-columns: 1fr;
    gap: 16px;
  }
  
  .image-column {
    grid-template-columns: 1fr 1fr;
    display: grid;
    gap: 16px;
  }
  
  .image-large {
    aspect-ratio: 4/3;
  }
  
  .companion-description p {
    font-size: 15px;
  }
}

@media screen and (max-width: 550px) {
  .companion-heading {
    margin-bottom: 30px;
  }
  
  .companion-grid {
    gap: 30px;
  }
}
</style>